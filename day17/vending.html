<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Vending Machine Change Calculator TDD Tutorial</title>
    <!-- Load the QUnit CSS file from CDN - Require to display our tests attractively -->
    <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-1.18.0.css">
    <!-- Pure CSS is a minimalist CSS file we have included to make things look nicer -->
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  </head>
  <body style='margin: 0 1em;'>
    <div id='main'>
      <h1>Vending Machine <em>Change Calculator</em></h1>
      <h2>Calculate the change (<em>coins</em>) to return to a customer when they buy something.</h2>
    </div>

    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <!-- Load the QUnit Testing Framework from CDN - this is the important bit ... -->
    <script src="https://code.jquery.com/qunit/qunit-1.18.0.js"></script>
    <script>
       var cointypes = [200, 100, 50, 20, 10, 5, 2, 1];
        function getChange(price, paid) {
            var difference = paid - price;
            var change = [];
            cointypes.forEach(function (coin) {
                // keep adding the current coin until it's more than the difference
                while (difference >= coin) {
                    change.push(coin);
                    difference = difference - coin;
                }
            });
            return change;
        }
        //  userList = null;
        function isAuthorizedPromise(user) {
          return new Promise(function (resolve,reject) {
            try{            
              resolve(userList.indexOf(user) >= 0)
            }
            catch(ex){
              console.log("sdfasdfas")
              reject('userList is empty')
            }
          });
        }
    </script>
    <script>
      // This is what a simple unit test looks like:
    //   test('This sample test should always pass!', function(assert) {
    //     var result = 1 + 1;
    //     assert.equal(result, 2); // just so we know everything loaded ok
    //   });
    //   // A failing test will be RED:
    //   test('This is what a failing test looks like!', function(assert) {
    //     var result = [1,2,3].indexOf(1);  // this should be 0
    //     assert.equal(result, 0); // we *expect* this to fail
    //   });

      // test('If the vending machine does not have change available',function(assert){
      //         var result = 0;
      //   assert.equal("Vending mc does not have cash available","Vending mc does not have cash available")

      // });

      // test('If the amount paid is less',function(assert){
      //              var result = getChange(300,100)
      //              assert.equal(result,'amount paid less. Please pay more')
      // });

      
      // test('If the amount paid is more',function(assert){
      //              var result = getChange(100,300)
      //              assert.equal(result,'amount paid more by 200')
      // });

      
      // test('If the amount paid is exact',function(assert){
      //              var result = getChange(300,300)
      //              assert.equal(result,'amount paid exactly and that is '+result)
      // });

      // test('When payable=400 ,paid=450,i should get the change',function(assert){
      //     var result = 1+1;
      //     assert.equal(result,2);
      // });
      // test('When payable=450 ,paid=400,i should give more',function(assert){
      //     var result = 1+1;
      //     assert.equal(result,2);
      // });

      // test('When paid is negative integer,error should give more',function(assert){
      //     var result = getChange(300,-200);
      //     assert.equal(result,"Please give proper amount");
      // });

      // test('When paid is not a number',function(assert){
      //     var result = getChange(300,"ten");
      //     assert.equal(result,"Please give proper amount");
      // });

      // test('When paid amount is infinity',function(assert){
      //     var result = getChange(300,9999999)
      //     assert.equal(result,"Amount is huge to process")
      // });

    
    </script>
    <script src="testPromise.js"></script>
  </body>
</html>